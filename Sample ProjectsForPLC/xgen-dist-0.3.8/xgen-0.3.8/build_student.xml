<?xml version="1.0"?>
<project name="xgen" default="build" basedir=".">

  <!-- ====================================================================== -->
  <!-- XGen Student Example build                                             -->
  <!-- ====================================================================== -->

  <property file="build.properties"/>
  <property name="input.file" value="${basedir}/etc/input/student.xml"/>
  <property name="output.dir" value="${basedir}/work/"/>
   
  <path id="classpath">                           
    <!-- local directory -->
    <pathelement path="."/>
    
    <!-- lib dir (includes subdirectories) -->
    <fileset dir="${basedir}">
      <include name="**/*.jar"/>
    </fileset>   
    
  </path>
  
  <target name="build">
    
    <echo message="+-----------------------------------------------------+"/>
    <echo message="| Generating project source!                          |"/>
    <echo message="+-----------------------------------------------------+"/>
     
    <taskdef name="xgen" classname="workzen.xgen.ant.XGenTask">
      <classpath refid="classpath"/>
    </taskdef>
     
    <!-- persistence manager -->
    <xgen
      loader=""
      inputFile="${input.file}"
 	  resourceTemplate="templates/persistence/manager/control_manager.vm"
      templatePath="${basedir}"
      outputDirectory="${basedir}/work/"
	  outputFile=""
      >
    </xgen>    
    
    
    <!-- persistence table -->
    <xgen
      loader=""
      inputFile="${input.file}"
      resourceTemplate="templates/persistence/manager/control_table.vm"
      templatePath="${basedir}"
      outputDirectory="${basedir}/work/"
      outputFile=""
      >
    </xgen>    
     
	<!-- persistable pojo -->
    <xgen
      loader=""
      inputFile="${input.file}"
      resourceTemplate="templates/pojo/control.vm"
      templatePath="${basedir}"
      outputDirectory="${basedir}/work/"
      outputFile=""
      >
    </xgen>     
       
  </target>
  
</project>